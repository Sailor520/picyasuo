<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>上传测试</title>
    <style>
        .upload-area {
            background-color: #f9fafb;
            border: 2px dashed #d1d5db;
            border-radius: 12px;
            padding: 60px 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px;
        }

        .upload-area:hover {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
    </style>
</head>

<body>
    <div class="upload-area" id="uploadArea">
        <p>点击或拖拽图片到这里</p>
        <input type="file" id="fileInput" accept="image/*" hidden>
    </div>

    <div id="result"></div>

    <script>
        console.log('脚本开始执行');

        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const result = document.getElementById('result');

        console.log('uploadArea:', uploadArea);
        console.log('fileInput:', fileInput);

        // 点击事件
        uploadArea.addEventListener('click', function () {
            console.log('上传区域被点击');
            result.innerHTML = '上传区域被点击了！';
            fileInput.click();
        });

        // 文件选择事件
        fileInput.addEventListener('change', function (e) {
            console.log('文件被选择:', e.target.files[0]);
            if (e.target.files[0]) {
                result.innerHTML = '文件已选择: ' + e.target.files[0].name;
            }
        });

        // 拖拽事件
        uploadArea.addEventListener('dragover', function (e) {
            e.preventDefault();
            console.log('拖拽悬停');
            uploadArea.style.borderColor = '#3b82f6';
            uploadArea.style.backgroundColor = '#eff6ff';
        });

        uploadArea.addEventListener('dragleave', function (e) {
            e.preventDefault();
            console.log('拖拽离开');
            uploadArea.style.borderColor = '#d1d5db';
            uploadArea.style.backgroundColor = '#f9fafb';
        });

        uploadArea.addEventListener('drop', function (e) {
            e.preventDefault();
            console.log('文件被拖拽放下:', e.dataTransfer.files[0]);
            uploadArea.style.borderColor = '#d1d5db';
            uploadArea.style.backgroundColor = '#f9fafb';

            if (e.dataTransfer.files[0]) {
                result.innerHTML = '拖拽文件: ' + e.dataTransfer.files[0].name;
            }
        });

        console.log('事件监听器已添加');
    </script>
</body>

</html>